---
title: "Chạy thử dApp trên blockchain Aptos"
description: "Gửi messages lên blockchain, đọc và hiển thị trên Chrome, viết lại một số issues gặp phải"
date: "2022-09-12"
draft: false
---

Chạy thử một dApp trên Aptos: gửi messages lên blockchain, đọc messages và hiển thị trên Chrome desktop.
Lưu lại các lỗi gặp phải, cách kiểm tra, cũng như một số quan sát:

- Dùng SAI aptos CLI version: sau khi build xong file thực thi, cần kiểm tra aptos --version, where aptos, shell config (export PATH...)
- Faucet node (dùng để fund cho Aptos account): xem lỗi khi chạy fund-with-faucet từ CLI, không nạp fund được vào ví Petra
- Chrome không đọc được Aptos account khi chạy lần đầu: thêm window.aptos.connect() trước khi lấy thông tin window.aptos.account()
- Lỗi về stream khi dùng ReactJS: build tools như Webpack, Vite thiếu polyfills cho NodeJS, dùng NextJS sẽ không bị lỗi.
- Lỗi "window is not defined" trên NextJS: thêm điều kiện global.window &&, lồng client code vào useEffect()
- Lỗi về transaction type phía client code: kiểm tra public entry function của Move module (Aptos smart contract), đọc hướng dẫn "life of a transaction" trên aptos.dev
- Một số lỗi về TS type: kiểm tra Aptos TS SDK.

Hiện tại có thể viết một fullstack dApp chạy trên devnet hoặc testnet của Aptos dùng NextJS(typescript), Smart contract dùng ngôn ngữ Move, tìm hiểu về thiết kế của Aptos.
